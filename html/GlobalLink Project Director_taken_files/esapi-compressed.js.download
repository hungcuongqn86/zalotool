var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=='function'?Object.defineProperty:function(b,c,a){a=a;if(b==Array.prototype||b==Object.prototype){return}b[c]=a.value};$jscomp.getGlobal=function(a){return typeof window!='undefined'&&window===a?a:typeof global!='undefined'&&global!=null?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(i,f,j,k){if(!f){return}var a=$jscomp.global;var b=i.split('.');for(var e=0;e<b.length-1;e++){var d=b[e];if(!(d in a)){a[d]={}}a=a[d]}var g=b[b.length-1];var h=a[g];var c=f(h);if(c==h||c==null){return}$jscomp.defineProperty(a,g,{configurable:!0,writable:!0,value:c})};$jscomp.polyfill('Array.prototype.copyWithin',function(a){if(a){return a}var b=function(d,c,b){var e=this.length;d=Number(d);c=Number(c);b=Number(b!=null?b:e);if(d<c){b=Math.min(b,e);while(c<b){if(c in this){this[d++]=this[c++]}else {delete this[d++];c++}}}else {b=Math.min(b,e+c-d);d+=b-c;while(b>c){if(--b in this){this[--d]=this[b]}else {delete this[d]}}}return this};return b},'es6','es3');$jscomp.SYMBOL_PREFIX='jscomp_symbol_';$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global['Symbol']){$jscomp.global['Symbol']=$jscomp.Symbol}};$jscomp.Symbol=function(){var a=0;function Symbol(b){return $jscomp.SYMBOL_PREFIX+(b||'')+a++}return Symbol}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global['Symbol'].iterator;if(!a){a=$jscomp.global['Symbol'].iterator=$jscomp.global['Symbol']('iterator')}if(typeof Array.prototype[a]!='function'){$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}})}$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){if(b<a.length){return {done:!1,value:a[b++]}}else {return {done:!0}}})};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();var a={next:b};a[$jscomp.global['Symbol'].iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();if(a instanceof String){a=a+''}var c=0;var b={next:function(){if(c<a.length){var e=c++;return {value:d(e,a[e]),done:!1}}b.next=function(){return {done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill('Array.prototype.entries',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b,c){return [b,c]})};return b},'es6','es3');$jscomp.polyfill('Array.prototype.fill',function(a){if(a){return a}var b=function(f,c,b){var d=this.length||0;if(c<0){c=Math.max(0,d+c)}if(b==null||b>d){b=d}b=Number(b);if(b<0){b=Math.max(0,d+b)}for(var e=Number(c||0);e<b;e++){this[e]=f}return this};return b},'es6','es3');$jscomp.findInternal=function(a,d,e){if(a instanceof String){a=String(a)}var f=a.length;for(var b=0;b<f;b++){var c=a[b];if(d.call(e,c,b,a)){return {i:b,v:c}}}return {i:-1,v:void 0}};$jscomp.polyfill('Array.prototype.find',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).v};return b},'es6','es3');$jscomp.polyfill('Array.prototype.findIndex',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).i};return b},'es6','es3');$jscomp.polyfill('Array.from',function(a){if(a){return a}var b=function(b,c,g){$jscomp.initSymbolIterator();c=c!=null?c:function(d){return d};var d=[];var f=b[Symbol.iterator];if(typeof f=='function'){b=f.call(b);var h;while(!(h=b.next()).done){d.push(c.call(g,h.value))}}else {var i=b.length;for(var e=0;e<i;e++){d.push(c.call(g,b[e]))}}return d};return b},'es6','es3');$jscomp.polyfill('Object.is',function(a){if(a){return a}var b=function(b,c){if(b===c){return b!==0||1/b===1/c}else {return b!==b&&c!==c}};return b},'es6','es3');$jscomp.polyfill('Array.prototype.includes',function(a){if(a){return a}var b=function(d,e){var b=this;if(b instanceof String){b=String(b)}var f=b.length;for(var c=e||0;c<f;c++){if(b[c]==d||Object.is(b[c],d)){return !0}}return !1};return b},'es7','es3');$jscomp.polyfill('Array.prototype.keys',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b){return b})};return b},'es6','es3');$jscomp.polyfill('Array.of',function(a){if(a){return a}var b=function(b){return Array.from(arguments)};return b},'es6','es3');$jscomp.polyfill('Array.prototype.values',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(c,b){return b})};return b},'es6','es3');$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.polyfill('Promise',function(c){if(c&&!$jscomp.FORCE_POLYFILL_PROMISE){return c}function AsyncExecutor(){this.batch_=null}AsyncExecutor.prototype.asyncExecute=function(a){if(this.batch_==null){this.batch_=[];this.asyncExecuteBatch_()}this.batch_.push(a);return this};AsyncExecutor.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var e=$jscomp.global['setTimeout'];AsyncExecutor.prototype.asyncExecuteFunction=function(a){e(a,0)};AsyncExecutor.prototype.executeBatch_=function(){while(this.batch_&&this.batch_.length){var b=this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];delete b[a];try{d()}catch(f){this.asyncThrow_(f)}}}this.batch_=null};AsyncExecutor.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a})};var b={PENDING:0,FULFILLED:1,REJECTED:2};var a=function(d){this.state_=b.PENDING;this.result_=undefined;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{d(a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.createResolveAndReject_=function(){var b=this;var a=!1;function firstCallWins(d){return function(e){if(!a){a=!0;d.call(b,e)}}}return {resolve:firstCallWins(this.resolveTo_),reject:firstCallWins(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this){this.reject_(new TypeError('A Promise cannot resolve to itself'))}else {if(b instanceof a){this.settleSameAsPromise_(b)}else {if(isObject(b)){this.resolveToNonPromiseObj_(b)}else {this.fulfill_(b)}}}};a.prototype.resolveToNonPromiseObj_=function(b){var a=undefined;try{a=b.then}catch(f){this.reject_(f);return}if(typeof a=='function'){this.settleSameAsThenable_(a,b)}else {this.fulfill_(b)}};function isObject(a){switch(typeof a){case 'object':return a!=null;case 'function':return !0;default:return !1;}}a.prototype.reject_=function(a){this.settle_(b.REJECTED,a)};a.prototype.fulfill_=function(a){this.settle_(b.FULFILLED,a)};a.prototype.settle_=function(d,a){if(this.state_!=b.PENDING){throw new Error('Cannot settle('+d+', '+a|'): Promise already settled in state'+this.state_)}this.state_=d;this.result_=a;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){var b=this.onSettledCallbacks_;for(var a=0;a<b.length;++a){b[a].call();b[a]=null}this.onSettledCallbacks_=null}};var d=new AsyncExecutor();a.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};a.prototype.settleSameAsThenable_=function(b,d){var a=this.createResolveAndReject_();try{b.call(d,a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.then=function(f,g){var b;var d;var e=new a(function(a,e){b=a;d=e});function createCallback(a,e){if(typeof a=='function'){return function(h){try{b(a(h))}catch(i){d(i)}}}else {return e}}this.callWhenSettled_(createCallback(f,b),createCallback(g,d));return e};a.prototype['catch']=function(a){return this.then(undefined,a)};a.prototype.callWhenSettled_=function(e,f){var a=this;function callback(){switch(a.state_){case b.FULFILLED:e(a.result_);break;case b.REJECTED:f(a.result_);break;default:throw new Error('Unexpected state: '+a.state_);}}if(this.onSettledCallbacks_==null){d.asyncExecute(callback)}else {this.onSettledCallbacks_.push(function(){d.asyncExecute(callback)})}};function resolvingPromise(b){if(b instanceof a){return b}else {return new a(function(a,d){a(b)})}}a['resolve']=resolvingPromise;a['reject']=function(b){return new a(function(d,a){a(b)})};a['race']=function(b){return new a(function(e,f){var d=$jscomp.makeIterator(b);for(var a=d.next();!a.done;a=d.next()){resolvingPromise(a.value).callWhenSettled_(e,f)}})};a['all']=function(e){var d=$jscomp.makeIterator(e);var b=d.next();if(b.done){return resolvingPromise([])}else {return new a(function(g,h){var a=[];var f=0;function onFulfilled(b){return function(d){a[b]=d;f--;if(f==0){g(a)}}}do{a.push(undefined);f++;resolvingPromise(b.value).callWhenSettled_(onFulfilled(a.length-1),h);b=d.next()}while(!b.done)})}};return a},'es6','es3');$jscomp.executeAsyncGenerator=function(a){function passValueToGenerator(b){return a.next(b)}function passErrorToGenerator(b){return a['throw'](b)}return new Promise(function(b,c){function handleGeneratorRecord(d){if(d.done){b(d.value)}else {Promise.resolve(d.value).then(passValueToGenerator,passErrorToGenerator).then(handleGeneratorRecord,c)}}handleGeneratorRecord(a.next())})};$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.polyfill('WeakMap',function(c){function isConformant(){if(!c||!Object.seal){return !1}try{var b=Object.seal({});var d=Object.seal({});var a=new c([[b,2],[d,3]]);if(a.get(b)!=2||a.get(d)!=3){return !1}a['delete'](b);a.set(d,4);return !a.has(b)&&a.get(d)==4}catch(e){return !1}}if(isConformant()){return c}var a='$jscomp_hidden_'+Math.random().toString().substring(2);function insert(b){if(!$jscomp.owns(b,a)){var d={};$jscomp.defineProperty(b,a,{value:d})}}function patch(a){var b=Object[a];if(b){Object[a]=function(d){insert(d);return b(d)}}}patch('freeze');patch('preventExtensions');patch('seal');var d=0;var b=function(a){this.id_=(d+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var f=$jscomp.makeIterator(a);var b;while(!(b=f.next()).done){var e=b.value;this.set(e[0],e[1])}}};b.prototype.set=function(b,d){insert(b);if(!$jscomp.owns(b,a)){throw new Error('WeakMap key fail: '+b)}b[a][this.id_]=d;return this};b.prototype.get=function(b){return $jscomp.owns(b,a)?b[a][this.id_]:undefined};b.prototype.has=function(b){return $jscomp.owns(b,a)&&$jscomp.owns(b[a],this.id_)};b.prototype['delete']=function(b){if(!$jscomp.owns(b,a)||!$jscomp.owns(b[a],this.id_)){return !1}return delete b[a][this.id_]};return b},'es6','es3');$jscomp.MapEntry=function(){this.previous;this.next;this.head;this.key;this.value};$jscomp.polyfill('Map',function(b){var g=!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!b||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var e=Object.seal({x:4});var c=new b($jscomp.makeIterator([[e,'s']]));if(c.get(e)!='s'||c.size!=1||c.get({x:4})||c.set({x:4},'t')!=c||c.size!=2){return !1}var d=c.entries();var a=d.next();if(a.done||a.value[0]!=e||a.value[1]!='s'){return !1}a=d.next();if(a.done||a.value[0].x!=4||a.value[1]!='t'||!d.next().done){return !1}return !0}catch(j){return !1}}();if(g){return b}$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=new WeakMap();var a=function(a){this.data_={};this.head_=f();this.size=0;if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.set(d[0],d[1])}}};a.prototype.set=function(e,d){var a=c(this,e);if(!a.list){a.list=this.data_[a.id]=[]}if(!a.entry){a.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:d};a.list.push(a.entry);this.head_.previous.next=a.entry;this.head_.previous=a.entry;this.size++}else {a.entry.value=d}return this};a.prototype['delete']=function(d){var a=c(this,d);if(a.entry&&a.list){a.list.splice(a.index,1);if(!a.list.length){delete this.data_[a.id]}a.entry.previous.next=a.entry.next;a.entry.next.previous=a.entry.previous;a.entry.head=null;this.size--;return !0}return !1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};a.prototype.has=function(a){return !!c(this,a).entry};a.prototype.get=function(d){var a=c(this,d).entry;return a&&a.value};a.prototype.entries=function(){return d(this,function(a){return [a.key,a.value]})};a.prototype.keys=function(){return d(this,function(a){return a.key})};a.prototype.values=function(){return d(this,function(a){return a.value})};a.prototype.forEach=function(e,d){var f=this.entries();var c;while(!(c=f.next()).done){var a=c.value;e.call(d,a[1],a[0],this)}};a.prototype[Symbol.iterator]=a.prototype.entries;var c=function(g,e){var f=i(e);var a=g.data_[f];if(a&&$jscomp.owns(g.data_,f)){for(var d=0;d<a.length;d++){var c=a[d];if(e!==e&&c.key!==c.key||e===c.key){return {id:f,list:a,index:d,entry:c}}}}return {id:f,list:a,index:-1,entry:undefined}};var d=function(c,d){var a=c.head_;return $jscomp.iteratorPrototype(function(){if(a){while(a.head!=c.head_){a=a.previous}while(a.next!=a.head){a=a.next;return {done:!1,value:d(a)}}a=null}return {done:!0,value:void 0}})};var f=function(){var a={};a.previous=a.next=a.head=a;return a};var h=0;var i=function(a){var c=a&&typeof a;if(c=='object'||c=='function'){a=a;if(!e.has(a)){var d=''+ ++h;e.set(a,d);return d}return e.get(a)}return 'p_'+a};return a},'es6','es3');$jscomp.polyfill('Math.acosh',function(a){if(a){return a}var b=function(b){b=Number(b);return Math.log(b+Math.sqrt(b*b-1))};return b},'es6','es3');$jscomp.polyfill('Math.asinh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.log(Math.abs(b)+Math.sqrt(b*b+1));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.log1p',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var f=b;var g=1;var c=b;var d=0;var e=1;while(d!=c){f*=b;e*=-1;c=(d=c)+e*f/++g}return c}return Math.log(1+b)};return b},'es6','es3');$jscomp.polyfill('Math.atanh',function(b){if(b){return b}var a=Math.log1p;var c=function(c){c=Number(c);return (a(c)-a(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.cbrt',function(a){if(a){return a}var b=function(b){if(b===0){return b}b=Number(b);var c=Math.pow(Math.abs(b),1/3);return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.clz32',function(a){if(a){return a}var b=function(b){b=Number(b)>>>0;if(b===0){return 32}var c=0;if((b&4.29490176E9)===0){b<<=16;c+=16}if((b&4.27819008E9)===0){b<<=8;c+=8}if((b&4.02653184E9)===0){b<<=4;c+=4}if((b&3.221225472E9)===0){b<<=2;c+=2}if((b&2.147483648E9)===0){c++}return c};return b},'es6','es3');$jscomp.polyfill('Math.cosh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);return (b(c)+b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.expm1',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var e=b;var f=1;var c=b;var d=0;while(d!=c){e*=b/++f;c=(d=c)+e}return c}return Math.exp(b)-1};return b},'es6','es3');$jscomp.polyfill('Math.hypot',function(a){if(a){return a}var b=function(c,d,h){c=Number(c);d=Number(d);var b,g,f;var e=Math.max(Math.abs(c),Math.abs(d));for(b=2;b<arguments.length;b++){e=Math.max(e,Math.abs(arguments[b]))}if(e>1.0E100||e<1.0E-100){c=c/e;d=d/e;f=c*c+d*d;for(b=2;b<arguments.length;b++){g=Number(arguments[b])/e;f+=g*g}return Math.sqrt(f)*e}else {f=c*c+d*d;for(b=2;b<arguments.length;b++){g=Number(arguments[b]);f+=g*g}return Math.sqrt(f)}};return b},'es6','es3');$jscomp.polyfill('Math.imul',function(a){if(a){return a}var b=function(b,c){b=Number(b);c=Number(c);var f=b>>>16&65535;var d=b&65535;var g=c>>>16&65535;var e=c&65535;var h=f*e+d*g<<16>>>0;return d*e+h|0};return b},'es6','es3');$jscomp.polyfill('Math.log10',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN10};return b},'es6','es3');$jscomp.polyfill('Math.log2',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN2};return b},'es6','es3');$jscomp.polyfill('Math.sign',function(a){if(a){return a}var b=function(b){b=Number(b);return b===0||isNaN(b)?b:b>0?1:-1};return b},'es6','es3');$jscomp.polyfill('Math.sinh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);if(c===0){return c}return (b(c)-b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.tanh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.exp(-2*Math.abs(b));var d=(1-c)/(1+c);return b<0?-d:d};return b},'es6','es3');$jscomp.polyfill('Math.trunc',function(a){if(a){return a}var b=function(b){b=Number(b);if(isNaN(b)||b===Infinity||b===-Infinity||b===0){return b}var c=Math.floor(Math.abs(b));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Number.EPSILON',function(a){return Math.pow(2,-52)},'es6','es3');$jscomp.polyfill('Number.MAX_SAFE_INTEGER',function(){return 9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.MIN_SAFE_INTEGER',function(){return -9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.isFinite',function(a){if(a){return a}var b=function(b){if(typeof b!=='number'){return !1}return !isNaN(b)&&b!==Infinity&&b!==-Infinity};return b},'es6','es3');$jscomp.polyfill('Number.isInteger',function(a){if(a){return a}var b=function(b){if(!Number.isFinite(b)){return !1}return b===Math.floor(b)};return b},'es6','es3');$jscomp.polyfill('Number.isNaN',function(a){if(a){return a}var b=function(b){return typeof b==='number'&&isNaN(b)};return b},'es6','es3');$jscomp.polyfill('Number.isSafeInteger',function(a){if(a){return a}var b=function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER};return b},'es6','es3');$jscomp.polyfill('Object.assign',function(a){if(a){return a}var b=function(e,f){for(var d=1;d<arguments.length;d++){var b=arguments[d];if(!b){continue}for(var c in b){if($jscomp.owns(b,c)){e[c]=b[c]}}}return e};return b},'es6','es3');$jscomp.polyfill('Object.entries',function(a){if(a){return a}var b=function(c){var d=[];for(var b in c){if($jscomp.owns(c,b)){d.push([b,c[b]])}}return d};return b},'es8','es3');$jscomp.polyfill('Object.getOwnPropertySymbols',function(a){if(a){return a}return function(){return []}},'es6','es5');$jscomp.polyfill('Reflect.ownKeys',function(b){if(b){return b}var a='jscomp_symbol_';function isSymbol(c){return c.substring(0,a.length)==a}var c=function(e){var f=[];var c=Object.getOwnPropertyNames(e);var d=Object.getOwnPropertySymbols(e);for(var a=0;a<c.length;a++){(isSymbol(c[a])?d:f).push(c[a])}return f.concat(d)};return c},'es6','es5');$jscomp.polyfill('Object.getOwnPropertyDescriptors',function(a){if(a){return a}var b=function(e){var d={};var c=Reflect.ownKeys(e);for(var b=0;b<c.length;b++){d[c[b]]=Object.getOwnPropertyDescriptor(e,c[b])}return d};return b},'es8','es5');$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0};var a={};try{a.__proto__=b;return a.a}catch(c){}return !1};$jscomp.setPrototypeOf=typeof Object.setPrototypeOf=='function'?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b){throw new TypeError(a+' is not extensible')}return a}:null;$jscomp.polyfill('Object.setPrototypeOf',function(a){return a||$jscomp.setPrototypeOf},'es6','es5');$jscomp.polyfill('Object.values',function(a){if(a){return a}var b=function(b){var c=[];for(var d in b){if($jscomp.owns(b,d)){c.push(b[d])}}return c};return b},'es8','es3');$jscomp.polyfill('Reflect.apply',function(a){if(a){return a}var c=Function.prototype.apply;var b=function(e,d,b){return c.call(e,d,b)};return b},'es6','es3');$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=='function'?Object.create:function(b){var a=function(){};a.prototype=b;return new a()};$jscomp.construct=function(){function reflectConstructWorks(){function Base(){}function Derived(){}new Base();Reflect.construct(Base,[],Derived);return new Base() instanceof Base}if(typeof Reflect!='undefined'&&Reflect.construct){if(reflectConstructWorks()){return Reflect.construct}var b=Reflect.construct;var a=function(e,d,a){var c=b(e,d);if(a){Reflect.setPrototypeOf(c,a.prototype)}return c};return a}function construct(b,d,a){if(a===undefined){a=b}var f=a.prototype||Object.prototype;var c=$jscomp.objectCreate(f);var e=Function.prototype.apply;var g=e.call(b,c,d);return g||c}return construct}();$jscomp.polyfill('Reflect.construct',function(a){return $jscomp.construct},'es6','es3');$jscomp.polyfill('Reflect.defineProperty',function(a){if(a){return a}var b=function(e,d,c){try{Object.defineProperty(e,d,c);var b=Object.getOwnPropertyDescriptor(e,d);if(!b){return !1}return b.configurable===(c.configurable||!1)&&b.enumerable===(c.enumerable||!1)&&('value' in b?b.value===c.value&&b.writable===(c.writable||!1):b.get===c.get&&b.set===c.set)}catch(f){return !1}};return b},'es6','es5');$jscomp.polyfill('Reflect.deleteProperty',function(a){if(a){return a}var b=function(c,b){if(!$jscomp.owns(c,b)){return !0}try{return delete c[b]}catch(d){return !1}};return b},'es6','es3');$jscomp.polyfill('Reflect.getOwnPropertyDescriptor',function(a){return a||Object.getOwnPropertyDescriptor},'es6','es5');$jscomp.polyfill('Reflect.getPrototypeOf',function(a){return a||Object.getPrototypeOf},'es6','es5');$jscomp.findDescriptor=function(d,c){var a=d;while(a){var b=Reflect.getOwnPropertyDescriptor(a,c);if(b){return b}a=Reflect.getPrototypeOf(a)}return undefined};$jscomp.polyfill('Reflect.get',function(a){if(a){return a}var b=function(d,c,e){if(arguments.length<=2){return d[c]}var b=$jscomp.findDescriptor(d,c);if(b){return b.get?b.get.call(e):b.value}return undefined};return b},'es6','es5');$jscomp.polyfill('Reflect.has',function(a){if(a){return a}var b=function(c,b){return b in c};return b},'es6','es3');$jscomp.polyfill('Reflect.isExtensible',function(a){if(a){return a}if($jscomp.ASSUME_ES5||typeof Object.isExtensible=='function'){return Object.isExtensible}return function(){return !0}},'es6','es3');$jscomp.polyfill('Reflect.preventExtensions',function(a){if(a){return a}if(!($jscomp.ASSUME_ES5||typeof Object.preventExtensions=='function')){return function(){return !1}}var b=function(b){Object.preventExtensions(b);return !Object.isExtensible(b)};return b},'es6','es3');$jscomp.polyfill('Reflect.set',function(a){if(a){return a}var b=function(b,d,e,f){var c=$jscomp.findDescriptor(b,d);if(!c){if(Reflect.isExtensible(b)){b[d]=e;return !0}return !1}if(c.set){c.set.call(arguments.length>3?f:b,e);return !0}else {if(c.writable&&!Object.isFrozen(b)){b[d]=e;return !0}}return !1};return b},'es6','es5');$jscomp.polyfill('Reflect.setPrototypeOf',function(a){if(a){return a}else {if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;var c=function(c,d){try{b(c,d);return !0}catch(e){return !1}};return c}else {return null}}},'es6','es5');$jscomp.polyfill('Set',function(b){var c=!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!b||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var d=Object.seal({x:4});var c=new b($jscomp.makeIterator([d]));if(!c.has(d)||c.size!=1||c.add(d)!=c||c.size!=1||c.add({x:4})!=c||c.size!=2){return !1}var e=c.entries();var a=e.next();if(a.done||a.value[0]!=d||a.value[1]!=d){return !1}a=e.next();if(a.done||a.value[0]==d||a.value[0].x!=4||a.value[1]!=a.value[0]){return !1}return e.next().done}catch(f){return !1}}();if(c){return b}$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=function(a){this.map_=new Map();if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}this.size=this.map_.size};a.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype['delete']=function(c){var a=this.map_['delete'](c);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=function(){return this.map_.entries()};a.prototype.values=function(){return this.map_.values()};a.prototype.keys=a.prototype.values;a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(c,a){var d=this;this.map_.forEach(function(e){return c.call(a,e,e,d)})};return a},'es6','es3');$jscomp.checkStringArgs=function(a,c,b){if(a==null){throw new TypeError("The 'this' value for String.prototype."+b+' must not be null or undefined')}if(c instanceof RegExp){throw new TypeError('First argument to String.prototype.'+b+' must not be a regular expression')}return a+''};$jscomp.polyfill('String.prototype.codePointAt',function(a){if(a){return a}var b=function(b){var e=$jscomp.checkStringArgs(this,null,'codePointAt');var f=e.length;b=Number(b)||0;if(!(b>=0&&b<f)){return void 0}b=b|0;var c=e.charCodeAt(b);if(c<55296||c>56319||b+1===f){return c}var d=e.charCodeAt(b+1);if(d<56320||d>57343){return c}return (c-55296)*1024+d+9216};return b},'es6','es3');$jscomp.polyfill('String.prototype.endsWith',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'endsWith');b=b+'';if(c===void 0){c=d.length}var f=Math.max(0,Math.min(c|0,d.length));var e=b.length;while(e>0&&f>0){if(d[--f]!=b[--e]){return !1}}return e<=0};return b},'es6','es3');$jscomp.polyfill('String.fromCodePoint',function(a){if(a){return a}var b=function(e){var c='';for(var d=0;d<arguments.length;d++){var b=Number(arguments[d]);if(b<0||b>1114111||b!==Math.floor(b)){throw new RangeError('invalid_code_point '+b)}if(b<=65535){c+=String.fromCharCode(b)}else {b-=65536;c+=String.fromCharCode(b>>>10&1023|55296);c+=String.fromCharCode(b&1023|56320)}}return c};return b},'es6','es3');$jscomp.polyfill('String.prototype.includes',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'includes');return d.indexOf(b,c||0)!==-1};return b},'es6','es3');$jscomp.polyfill('String.prototype.repeat',function(a){if(a){return a}var b=function(b){var c=$jscomp.checkStringArgs(this,null,'repeat');if(b<0||b>1342177279){throw new RangeError('Invalid count value')}b=b|0;var d='';while(b){if(b&1){d+=c}if(b>>>=1){c+=c}}return d};return b},'es6','es3');$jscomp.stringPadding=function(c,a){var b=c!==undefined?String(c):' ';if(!(a>0)||!b){return ''}var d=Math.ceil(a/b.length);return b.repeat(d).substring(0,a)};$jscomp.polyfill('String.prototype.padEnd',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return b+$jscomp.stringPadding(c,e)};return b},'es8','es3');$jscomp.polyfill('String.prototype.padStart',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return $jscomp.stringPadding(c,e)+b};return b},'es8','es3');$jscomp.polyfill('String.prototype.startsWith',function(a){if(a){return a}var b=function(b,g){var c=$jscomp.checkStringArgs(this,b,'startsWith');b=b+'';var h=c.length;var e=b.length;var f=Math.max(0,Math.min(g|0,c.length));var d=0;while(d<e&&f<h){if(c[f++]!=b[d++]){return !1}}return d>=e};return b},'es6','es3');$jscomp.arrayFromIterator=function(c){var b;var a=[];while(!(b=c.next()).done){a.push(b.value)}return a};$jscomp.arrayFromIterable=function(a){if(a instanceof Array){return a}else {return $jscomp.arrayFromIterator($jscomp.makeIterator(a))}};$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var e=$jscomp.setPrototypeOf;e(a,b)}else {for(var c in b){if(c=='prototype'){continue}if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);if(d){Object.defineProperty(a,c,d)}}else {a[c]=b[c]}}}a.superClass_=b.prototype};$jscomp.polyfill('WeakSet',function(b){function isConformant(){if(!b||!Object.seal){return !1}try{var c=Object.seal({});var d=Object.seal({});var a=new b([c]);if(!a.has(c)||a.has(d)){return !1}a['delete'](c);a.add(d);return !a.has(c)&&a.has(d)}catch(e){return !1}}if(isConformant()){return b}var a=function(a){this.map_=new WeakMap();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}};a.prototype.add=function(a){this.map_.set(a,!0);return this};a.prototype.has=function(a){return this.map_.has(a)};a.prototype['delete']=function(a){return this.map_['delete'](a)};return a},'es6','es3');try{if(Array.prototype.values.toString().indexOf('[native code]')==-1){delete Array.prototype.values}}catch(a){}var $namespace=function(f,g,e){var c=f.split(g||'.'),b=e||window,a,d;for(a=0,d=c.length;a<d;a++){b=b[c[a]]=b[c[a]]||{}}return b};var $type=function(a,b){if(!a instanceof b){throw new SyntaxError()}};if(!$){var $=function(a){return document.getElementById(a)}}if(!Array.prototype.each){Array.prototype.each=function(b){if(typeof b!='function'){throw 'Illegal Argument for Array.each'}for(var a=0;a<this.length;a++){b(this[a])}}}if(!Array.prototype.contains){Array.prototype.contains=function(a){var b=!1;this.each(function(c){if(a.equals&&a.equals(c)||c==a){b=!0;return}});return b}}if(!Array.prototype.containsKey){Array.prototype.containsKey=function(b){for(var a in this){if(a.toLowerCase()==b.toLowerCase()){return !0}}return !1}}if(!Array.prototype.getCaseInsensitive){Array.prototype.getCaseInsensitive=function(b){for(var a in this){if(a.toLowerCase()==b.toLowerCase()){return this[a]}}return null}}if(!String.prototype.charCodeAt){String.prototype.charCodeAt=function(b){var d=this.charAt(b);for(var a=0;a<65536;a++){var c=String.fromCharCode(a);if(c==d){return a}}return 0}}if(!String.prototype.endsWith){String.prototype.endsWith=function(a){return this.substr(this.length-a.length,a.length)==a}}if(!Exception){var Exception=function(a,b){this.cause=b;this.errorMessage=a};Exception.prototype=Error.prototype;Exception.prototype.getCause=function(){return this.cause};Exception.prototype.getMessage=function(){return this.message};Exception.prototype.getStackTrace=function(){if(this.callstack){return this.callstack}if(this.stack){var b=stack.split('\n');for(var a=0,d=b.length;a<d;a++){if(b[a].match(/^\s*[A-Za-z0-9\=+\$]+\(/)){this.callstack.push(b[a])}}this.callstack.shift();return this.callstack}else {if(window.opera&&this.message){var b=this.message.split('\n');for(var a=0,d=b.length;a<d;a++){if(b[a].match(/^\s*[A-Za-z0-9\=+\$]+\(/)){var f=b[a];if(b[a+1]){f+=' at '+b[a+1];a++}this.callstack.push(f)}}this.callstack.shift();return this.callstack}else {var c=arguments.callee.caller;while(c){var e=c.toString();var g=e.substring(e.indexOf('function')+8,e.indexOf('('))||'anonymous';this.callstack.push(g);c=c.caller}return this.callstack}}};Exception.prototype.printStackTrace=function(a){var b=this.getMessage()+'|||'+this.getStackTrace().join('|||');if(this.cause){if(this.cause.printStackTrace){b+='||||||Caused by '+this.cause.printStackTrace().replace('\n','|||')}}if(!a){return a.replace('|||','\n')}else {if(a.value){a.value=b.replace('|||','\n')}else {if(a.writeln){a.writeln(b.replace('|||','\n'))}else {if(a.innerHTML){a.innerHTML=b.replace('|||','<br/>')}else {if(a.innerText){a.innerText=b.replace('|||','<br/>')}else {if(a.append){a.append(b.replace('|||','\n'))}else {if(a instanceof Function){a(b.replace('|||','\n'))}}}}}}}}}if(!RuntimeException){var RuntimeException=Exception}if(!IllegalArgumentException){var IllegalArgumentException=Exception}if(!DateFormat){var DateFormat=function(c){var b=c;var a={longMonths:['January','February','March','April','May','June','July','August','September','October','November','December'],shortMonths:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],longDays:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],shortDays:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],d:function(a){return (a.getDate()<10?'0':'')+a.getDate()},D:function(b){return a.shortDays[b.getDay()]},j:function(a){return a.getDate()},l:function(b){return a.longDays[b.getDay()]},N:function(a){return a.getDay()+1},S:function(a){return a.getDate()%10==1&&a.getDate()!=11?'st':a.getDate()%10==2&&a.getDate()!=12?'nd':a.getDate()%10==3&&a.getDate()!=13?'rd':'th'},w:function(a){return a.getDay()},z:function(a){return 'Not Yet Supported'},W:function(a){return 'Not Yet Supported'},F:function(b){return a.longMonths[b.getMonth()]},m:function(a){return (a.getMonth()<9?'0':'')+(a.getMonth()+1)},M:function(b){return a.shortMonths[b.getMonth()]},n:function(a){return a.getMonth()+1},t:function(a){return 'Not Yet Supported'},L:function(a){return a.getFullYear()%4==0&&a.getFullYear()%100!=0||a.getFullYear()%400==0?'1':'0'},o:function(a){return 'Not Supported'},Y:function(a){return a.getFullYear()},y:function(a){return (''+a.getFullYear()).substr(2)},a:function(a){return a.getHours()<12?'am':'pm'},A:function(a){return a.getHours()<12?'AM':'PM'},B:function(a){return 'Not Yet Supported'},g:function(a){return a.getHours()%12||12},G:function(a){return a.getHours()},h:function(a){return ((a.getHours()%12||12)<10?'0':'')+(a.getHours()%12||12)},H:function(a){return (a.getHours()<10?'0':'')+a.getHours()},i:function(a){return (a.getMinutes()<10?'0':'')+a.getMinutes()},s:function(a){return (a.getSeconds()<10?'0':'')+a.getSeconds()},e:function(a){return 'Not Yet Supported'},I:function(a){return 'Not Supported'},O:function(a){return (-a.getTimezoneOffset()<0?'-':'+')+(Math.abs(a.getTimezoneOffset()/60)<10?'0':'')+Math.abs(a.getTimezoneOffset()/60)+'00'},P:function(a){return (-a.getTimezoneOffset()<0?'-':'+')+(Math.abs(a.getTimezoneOffset()/60)<10?'0':'')+Math.abs(a.getTimezoneOffset()/60)+':'+(Math.abs(a.getTimezoneOffset()%60)<10?'0':'')+Math.abs(a.getTimezoneOffset()%60)},T:function(a){var d=a.getMonth();a.setMonth(0);var b=a.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,'$1');a.setMonth(d);return b},Z:function(a){return -a.getTimezoneOffset()*60},c:function(a){return a.format('Y-m-d')+'T'+a.format('H:i:sP')},r:function(a){return a.toString()},U:function(a){return a.getTime()/1000}};return {format:function(g){var d='';for(var e=0;e<b.length;e++){var f=b.charAt(e);if(a[f]){d+=a[f].call(g)}else {d+=f}}return d}}};DateFormat.getDateInstance=function(){return new DateFormat('M/d/y h:i a')}}$namespace('org.owasp.esapi');org.owasp.esapi.ESAPI=function(g){var a=g;if(!a){throw new RuntimeException('Configuration Error - Unable to load $ESAPI_Properties Object')}var b=null;var d=null;var c=null;var e=null;var f=null;return {properties:a,encoder:function(){if(!b){if(!a.encoder.Implementation){throw new RuntimeException('Configuration Error - $ESAPI.properties.encoder.Implementation object not found.')}b=new a.encoder.Implementation()}return b},logFactory:function(){if(!c){if(!a.logging.Implementation){throw new RuntimeException('Configuration Error - $ESAPI.properties.logging.Implementation object not found.')}c=new a.logging.Implementation()}return c},logger:function(a){return this.logFactory().getLogger(a)},locale:function(){return org.owasp.esapi.i18n.Locale.getLocale(a.localization.DefaultLocale)},resourceBundle:function(){if(!e){if(!a.localization.StandardResourceBundle){throw new RuntimeException('Configuration Error - $ESAPI.properties.localization.StandardResourceBundle not found.')}e=new org.owasp.esapi.i18n.ObjectResourceBundle(a.localization.StandardResourceBundle)}return e},validator:function(){if(!d){if(!a.validation.Implementation){throw new RuntimeException('Configuration Error - $ESAPI.properties.validation.Implementation object not found.')}d=new a.validation.Implementation()}return d},httpUtilities:function(){if(!f){f=new org.owasp.esapi.HTTPUtilities()}return f}}};var $ESAPI=null;org.owasp.esapi.ESAPI.initialize=function(){$ESAPI=new org.owasp.esapi.ESAPI(Base.esapi.properties)};$namespace('org.owasp.esapi');org.owasp.esapi.Encoder=function(){};$namespace('org.owasp.esapi');org.owasp.esapi.EncoderConstants={CHAR_LOWERS:['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'],CHAR_UPPERS:['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'],CHAR_DIGITS:['0','1','2','3','4','5','6','7','8','9'],CHAR_SPECIALS:['!','$','*','+','-','.','=','?','@','^','_','|','~'],CHAR_LETTERS:['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'],CHAR_ALNUM:['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','0','1','2','3','4','5','6','7','8','9']};$namespace('org.owasp.esapi');org.owasp.esapi.EnterpriseSecurityException=function(c,b,d){var e=b;var a=new Exception(c,d);return {getMessage:a.getMessage,getUserMessage:a.getMessage,getLogMessage:function(){return e},getStackTrace:a.getStackTrace,printStackTrace:a.printStackTrace}};$namespace('org.owasp.esapi');org.owasp.esapi.HTTPUtilities=function(){var c=$ESAPI.logger('HTTPUtilities');var a=$ESAPI.resourceBundle();var b=org.owasp.esapi.Logger.EventType;return {addCookie:function(d){$type(d,org.owasp.esapi.net.Cookie);if(window.top.location.protocol!='http:'||window.top.location.protocol!='https:'){throw new RuntimeException(a.getString('HTTPUtilities.Cookie.Protocol',{protocol:window.top.location.protocol}))}var f=d.getName(),g=d.getValue(),j=d.getMaxAge(),i=d.getDomain(),k=d.getPath(),l=d.getSecure();var h=new org.owasp.esapi.ValidationErrorList();var n=$ESAPI.validator().getValidInput('cookie name',f,'HttpCookieName',50,!1,h);var m=$ESAPI.validator().getValidInput('cookie value',g,'HttpCookieValue',5000,!1,h);if(h.size()==0){var e=f+'='+escape(g);e+=j?';expires='+(new Date((new Date()).getTime()+1000*j)).toGMTString():'';e+=k?';path='+k:'';e+=i?';domain='+i:'';e+=l||$ESAPI.properties.httputilities.cookies.ForceSecure?';secure':'';document.cookie=e}else {c.warning(b.SECURITY_FAILURE,a.getString('HTTPUtilities.Cookie.UnsafeData',{name:f,value:g}))}},getCookie:function(d){var c=document.cookie.split('; ');for(var b=0,e=c.length;b<e;b++){var a=c[b].split('=');if(a[0]==escape(d)){return new org.owasp.esapi.net.Cookie(d,a[1]?unescape(a[1]):'')}}return null},killAllCookies:function(){var c=document.cookie.split('; ');for(var b=0,e=c.length;b<e;b++){var f=c[b].split('=');var d=unescape(f[0]);if(!this.killCookie(d)){throw new RuntimeException(a.getString('HTTPUtilities.Cookie.CantKill',{name:d}))}}},killCookie:function(b){var c=this.getCookie(b);if(c){c.setMaxAge(-10);this.addCookie(c);if(this.getCookie(b)){throw new RuntimeException(a.getString('HTTPUtilities.Cookie.CantKill',{name:b}))}return !0}return !1},getRequestParameter:function(d){var b=window.top.location.search.substring(1);var a=b.indexOf(d);if(a<0){return null}a=a+d.length;var c=b.indexOf('&',a);if(c<0){c=b.length}return unescape(b.substring(a,c))}}};$namespace('org.owasp.esapi');org.owasp.esapi.IntrusionException=function(d,c,b){var a=new org.owasp.esapi.EnterpriseSecurityException(d,c,b);return {getMessage:a.getMessage,getUserMessage:a.getMessage,getLogMessage:a.getLogMessage,getStackTrace:a.getStackTrace,printStackTrace:a.printStackTrace}};$namespace('org.owasp.esapi');org.owasp.esapi.LogFactory=function(){return {getLogger:!1}};$namespace('org.owasp.esapi');org.owasp.esapi.Logger=function(){return {setLevel:!1,fatal:!1,error:!1,isErrorEnabled:!1,warning:!1,isWarningEnabled:!1,info:!1,isInfoEnabled:!1,debug:!1,isDebugEnabled:!1,trace:!1,isTraceEnabled:!1}};org.owasp.esapi.Logger.EventType=function(c,b){var a=c;var d=b;return {isSuccess:function(){return d},toString:function(){return a}}};with(org.owasp.esapi.Logger){EventType.SECURITY_SUCCESS=new EventType('SECURITY SUCCESS',!0);EventType.SECURITY_FAILURE=new EventType('SECURITY FAILURE',!1);EventType.EVENT_SUCCESS=new EventType('EVENT SUCCESS',!0);EventType.EVENT_FAILURE=new EventType('EVENT FAILURE',!1);OFF=Number.MAX_VALUE;FATAL=1000;ERROR=800;WARNING=600;INFO=400;DEBUG=200;TRACE=100;ALL=Number.MIN_VALUE}$namespace('org.owasp.esapi');org.owasp.esapi.PreparedString=function(f,e,d){var c=[];var a=[];function b(g){var h=0,i=0;for(var b=0;b<g.length;b++){if(g.charAt(b)==d){i++;c.push(g.substr(h,b));h=b+1}}c.push(g.substr(h));a=new Array(i)}if(!d){d='?'}b(f);return {set:function(b,g,c){if(b<1||b>a.length){throw new IllegalArgumentException('Attempt to set parameter: '+b+' on a PreparedString with only '+a.length+' placeholders')}if(!c){c=e}a[b-1]=c.encode([],g)},toString:function(){for(var b=0;b<a.length;b++){if(a[b]==null){throw new RuntimeException('Attempt to render PreparedString without setting parameter '+(b+1))}}var g='',i=0;for(var h=0;h<c.length;h++){g+=c[h];if(i<a.length){g+=a[i++]}}return g}}};$namespace('org.owasp.esapi');org.owasp.esapi.ValidationErrorList=function(){var a=Array();return {addError:function(b,c){if(b==null){throw new RuntimeException('Context cannot be null: '+c.getLogMessage(),c)}if(c==null){throw new RuntimeException('Context ('+b+') - Error cannot be null')}if(a[b]){throw new RuntimeException('Context ('+b+') already exists. must be unique.')}a[b]=c},errors:function(){return a},isEmpty:function(){return a.length==0},size:function(){return a.length}}};$namespace('org.owasp.esapi');org.owasp.esapi.ValidationRule=function(){return {getValid:!1,setAllowNull:!1,getTypeName:!1,setTypeName:!1,setEncoder:!1,assertValid:!1,getSafe:!1,isValid:!1,whitelist:!1}};$namespace('org.owasp.esapi');org.owasp.esapi.Validator=function(){return {addRule:!1,getRule:!1,getValidInput:!1,isValidDate:!1,getValidDate:!1,isValidSafeHTML:!1,getValidSafeHTML:!1,isValidCreditCard:!1,getValidCreditCard:!1,isValidFilename:!1,getValidFilename:!1,isValidNumber:!1,getValidNumber:!1,isValidPrintable:!1,getValidPrintable:!1}};$namespace('org.owasp.esapi.codecs.Base64');org.owasp.esapi.codecs.Base64={_keyStr:'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',encode:function(i){if(!i){return null}var h='';var f,b,a,k,j,g,e;var c=0;var d=org.owasp.esapi.codecs.UTF8.encode(i);while(c<d.length){f=d.charCodeAt(c++);b=d.charCodeAt(c++);a=d.charCodeAt(c++);k=f>>2;j=(f&3)<<4|b>>4;g=(b&15)<<2|a>>6;e=a&63;if(isNaN(b)){g=e=64}else {if(isNaN(a)){e=64}}h+=this._keyStr.charAt(k)+this._keyStr.charAt(j)+this._keyStr.charAt(g)+this._keyStr.charAt(e)}return h},decode:function(j){if(!j){return null}var a='';var i,h,g,k,f,d,e;var b=0;var c=j.replace(/[^A-Za-z0-9\+\/\=]/g,'');while(b<c.length){k=this._keyStr.indexOf(c.charAt(b++));f=this._keyStr.indexOf(c.charAt(b++));d=this._keyStr.indexOf(c.charAt(b++));e=this._keyStr.indexOf(c.charAt(b++));i=k<<2|f>>4;h=(f&15)<<4|d>>2;g=(d&3)<<6|e;a+=String.fromCharCode(i);if(d!=64){a+=String.fromCharCode(h)}if(e!=64){a+=String.fromCharCode(g)}}a=org.owasp.esapi.codecs.UTF8.decode(a);return a}};$namespace('org.owasp.esapi.codecs');org.owasp.esapi.codecs.CSSCodec=function(){var a=new org.owasp.esapi.codecs.Codec();return {encode:a.encode,decode:a.decode,encodeCharacter:function(c,a){if(c.contains(a)){return a}var b=org.owasp.esapi.codecs.Codec.getHexForNonAlphanumeric(a);if(b==null){return a}return '\\'+b+' '},decodeCharacter:function(a){a.mark();var f=a.next();if(f==null){a.reset();return null}if(f!='\\'){a.reset();return null}var c=a.next();if(c==null){a.reset();return null}if(a.isHexDigit(c)){var d=c;for(var e=0;e<6;e++){var b=a.next();if(b==null||b.charCodeAt(0)==32){break}if(a.isHexDigit(b)){d+=b}else {input.pushback(b);break}}try{var g=parseInt(d,16);return String.fromCharCode(g)}catch(h){a.reset();return null}}return c}}};$namespace('org.owasp.esapi.codecs');org.owasp.esapi.codecs.Codec=function(){return {encode:function(d,c){var b='';for(var a=0;a<c.length;a++){var e=c.charAt(a);b+=this.encodeCharacter(d,e)}return b},encodeCharacter:function(b,a){return a},decode:function(d){var a='';var b=new org.owasp.esapi.codecs.PushbackString(d);while(b.hasNext()){var c=this.decodeCharacter(b);if(c!=null){a+=c}else {a+=b.next()}}return a},decodeCharacter:function(a){return a.next()}}};org.owasp.esapi.codecs.Codec.getHexForNonAlphanumeric=function(a){if(a.charCodeAt(0)<256){return org.owasp.esapi.codecs.Codec.hex[a.charCodeAt(0)]}return a.charCodeAt(0).toString(16)};org.owasp.esapi.codecs.Codec.hex=[];for(var c=0;c<255;c++){if(c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122){org.owasp.esapi.codecs.Codec.hex[c]=null}else {org.owasp.esapi.codecs.Codec.hex[c]=c.toString(16)}}var entityToCharacterMap=[];entityToCharacterMap['&quot']='34';entityToCharacterMap['&amp']='38';entityToCharacterMap['&lt']='60';entityToCharacterMap['&gt']='62';entityToCharacterMap['&nbsp']='160';entityToCharacterMap['&iexcl']='161';entityToCharacterMap['&cent']='162';entityToCharacterMap['&pound']='163';entityToCharacterMap['&curren']='164';entityToCharacterMap['&yen']='165';entityToCharacterMap['&brvbar']='166';entityToCharacterMap['&sect']='167';entityToCharacterMap['&uml']='168';entityToCharacterMap['&copy']='169';entityToCharacterMap['&ordf']='170';entityToCharacterMap['&laquo']='171';entityToCharacterMap['&not']='172';entityToCharacterMap['&shy']='173';entityToCharacterMap['&reg']='174';entityToCharacterMap['&macr']='175';entityToCharacterMap['&deg']='176';entityToCharacterMap['&plusmn']='177';entityToCharacterMap['&sup2']='178';entityToCharacterMap['&sup3']='179';entityToCharacterMap['&acute']='180';entityToCharacterMap['&micro']='181';entityToCharacterMap['&para']='182';entityToCharacterMap['&middot']='183';entityToCharacterMap['&cedil']='184';entityToCharacterMap['&sup1']='185';entityToCharacterMap['&ordm']='186';entityToCharacterMap['&raquo']='187';entityToCharacterMap['&frac14']='188';entityToCharacterMap['&frac12']='189';entityToCharacterMap['&frac34']='190';entityToCharacterMap['&iquest']='191';entityToCharacterMap['&Agrave']='192';entityToCharacterMap['&Aacute']='193';entityToCharacterMap['&Acirc']='194';entityToCharacterMap['&Atilde']='195';entityToCharacterMap['&Auml']='196';entityToCharacterMap['&Aring']='197';entityToCharacterMap['&AElig']='198';entityToCharacterMap['&Ccedil']='199';entityToCharacterMap['&Egrave']='200';entityToCharacterMap['&Eacute']='201';entityToCharacterMap['&Ecirc']='202';entityToCharacterMap['&Euml']='203';entityToCharacterMap['&Igrave']='204';entityToCharacterMap['&Iacute']='205';entityToCharacterMap['&Icirc']='206';entityToCharacterMap['&Iuml']='207';entityToCharacterMap['&ETH']='208';entityToCharacterMap['&Ntilde']='209';entityToCharacterMap['&Ograve']='210';entityToCharacterMap['&Oacute']='211';entityToCharacterMap['&Ocirc']='212';entityToCharacterMap['&Otilde']='213';entityToCharacterMap['&Ouml']='214';entityToCharacterMap['&times']='215';entityToCharacterMap['&Oslash']='216';entityToCharacterMap['&Ugrave']='217';entityToCharacterMap['&Uacute']='218';entityToCharacterMap['&Ucirc']='219';entityToCharacterMap['&Uuml']='220';entityToCharacterMap['&Yacute']='221';entityToCharacterMap['&THORN']='222';entityToCharacterMap['&szlig']='223';entityToCharacterMap['&agrave']='224';entityToCharacterMap['&aacute']='225';entityToCharacterMap['&acirc']='226';entityToCharacterMap['&atilde']='227';entityToCharacterMap['&auml']='228';entityToCharacterMap['&aring']='229';entityToCharacterMap['&aelig']='230';entityToCharacterMap['&ccedil']='231';entityToCharacterMap['&egrave']='232';entityToCharacterMap['&eacute']='233';entityToCharacterMap['&ecirc']='234';entityToCharacterMap['&euml']='235';entityToCharacterMap['&igrave']='236';entityToCharacterMap['&iacute']='237';entityToCharacterMap['&icirc']='238';entityToCharacterMap['&iuml']='239';entityToCharacterMap['&eth']='240';entityToCharacterMap['&ntilde']='241';entityToCharacterMap['&ograve']='242';entityToCharacterMap['&oacute']='243';entityToCharacterMap['&ocirc']='244';entityToCharacterMap['&otilde']='245';entityToCharacterMap['&ouml']='246';entityToCharacterMap['&divide']='247';entityToCharacterMap['&oslash']='248';entityToCharacterMap['&ugrave']='249';entityToCharacterMap['&uacute']='250';entityToCharacterMap['&ucirc']='251';entityToCharacterMap['&uuml']='252';entityToCharacterMap['&yacute']='253';entityToCharacterMap['&thorn']='254';entityToCharacterMap['&yuml']='255';entityToCharacterMap['&OElig']='338';entityToCharacterMap['&oelig']='339';entityToCharacterMap['&Scaron']='352';entityToCharacterMap['&scaron']='353';entityToCharacterMap['&Yuml']='376';entityToCharacterMap['&fnof']='402';entityToCharacterMap['&circ']='710';entityToCharacterMap['&tilde']='732';entityToCharacterMap['&Alpha']='913';entityToCharacterMap['&Beta']='914';entityToCharacterMap['&Gamma']='915';entityToCharacterMap['&Delta']='916';entityToCharacterMap['&Epsilon']='917';entityToCharacterMap['&Zeta']='918';entityToCharacterMap['&Eta']='919';entityToCharacterMap['&Theta']='920';entityToCharacterMap['&Iota']='921';entityToCharacterMap['&Kappa']='922';entityToCharacterMap['&Lambda']='923';entityToCharacterMap['&Mu']='924';entityToCharacterMap['&Nu']='925';entityToCharacterMap['&Xi']='926';entityToCharacterMap['&Omicron']='927';entityToCharacterMap['&Pi']='928';entityToCharacterMap['&Rho']='929';entityToCharacterMap['&Sigma']='931';entityToCharacterMap['&Tau']='932';entityToCharacterMap['&Upsilon']='933';entityToCharacterMap['&Phi']='934';entityToCharacterMap['&Chi']='935';entityToCharacterMap['&Psi']='936';entityToCharacterMap['&Omega']='937';entityToCharacterMap['&alpha']='945';entityToCharacterMap['&beta']='946';entityToCharacterMap['&gamma']='947';entityToCharacterMap['&delta']='948';entityToCharacterMap['&epsilon']='949';entityToCharacterMap['&zeta']='950';entityToCharacterMap['&eta']='951';entityToCharacterMap['&theta']='952';entityToCharacterMap['&iota']='953';entityToCharacterMap['&kappa']='954';entityToCharacterMap['&lambda']='955';entityToCharacterMap['&mu']='956';entityToCharacterMap['&nu']='957';entityToCharacterMap['&xi']='958';entityToCharacterMap['&omicron']='959';entityToCharacterMap['&pi']='960';entityToCharacterMap['&rho']='961';entityToCharacterMap['&sigmaf']='962';entityToCharacterMap['&sigma']='963';entityToCharacterMap['&tau']='964';entityToCharacterMap['&upsilon']='965';entityToCharacterMap['&phi']='966';entityToCharacterMap['&chi']='967';entityToCharacterMap['&psi']='968';entityToCharacterMap['&omega']='969';entityToCharacterMap['&thetasym']='977';entityToCharacterMap['&upsih']='978';entityToCharacterMap['&piv']='982';entityToCharacterMap['&ensp']='8194';entityToCharacterMap['&emsp']='8195';entityToCharacterMap['&thinsp']='8201';entityToCharacterMap['&zwnj']='8204';entityToCharacterMap['&zwj']='8205';entityToCharacterMap['&lrm']='8206';entityToCharacterMap['&rlm']='8207';entityToCharacterMap['&ndash']='8211';entityToCharacterMap['&mdash']='8212';entityToCharacterMap['&lsquo']='8216';entityToCharacterMap['&rsquo']='8217';entityToCharacterMap['&sbquo']='8218';entityToCharacterMap['&ldquo']='8220';entityToCharacterMap['&rdquo']='8221';entityToCharacterMap['&bdquo']='8222';entityToCharacterMap['&dagger']='8224';entityToCharacterMap['&Dagger']='8225';entityToCharacterMap['&bull']='8226';entityToCharacterMap['&hellip']='8230';entityToCharacterMap['&permil']='8240';entityToCharacterMap['&prime']='8242';entityToCharacterMap['&Prime']='8243';entityToCharacterMap['&lsaquo']='8249';entityToCharacterMap['&rsaquo']='8250';entityToCharacterMap['&oline']='8254';entityToCharacterMap['&frasl']='8260';entityToCharacterMap['&euro']='8364';entityToCharacterMap['&image']='8365';entityToCharacterMap['&weierp']='8472';entityToCharacterMap['&real']='8476';entityToCharacterMap['&trade']='8482';entityToCharacterMap['&alefsym']='8501';entityToCharacterMap['&larr']='8592';entityToCharacterMap['&uarr']='8593';entityToCharacterMap['&rarr']='8594';entityToCharacterMap['&darr']='8595';entityToCharacterMap['&harr']='8596';entityToCharacterMap['&crarr']='8629';entityToCharacterMap['&lArr']='8656';entityToCharacterMap['&uArr']='8657';entityToCharacterMap['&rArr']='8658';entityToCharacterMap['&dArr']='8659';entityToCharacterMap['&hArr']='8660';entityToCharacterMap['&forall']='8704';entityToCharacterMap['&part']='8706';entityToCharacterMap['&exist']='8707';entityToCharacterMap['&empty']='8709';entityToCharacterMap['&nabla']='8711';entityToCharacterMap['&isin']='8712';entityToCharacterMap['&notin']='8713';entityToCharacterMap['&ni']='8715';entityToCharacterMap['&prod']='8719';entityToCharacterMap['&sum']='8721';entityToCharacterMap['&minus']='8722';entityToCharacterMap['&lowast']='8727';entityToCharacterMap['&radic']='8730';entityToCharacterMap['&prop']='8733';entityToCharacterMap['&infin']='8734';entityToCharacterMap['&ang']='8736';entityToCharacterMap['&and']='8743';entityToCharacterMap['&or']='8744';entityToCharacterMap['&cap']='8745';entityToCharacterMap['&cup']='8746';entityToCharacterMap['&int']='8747';entityToCharacterMap['&there4']='8756';entityToCharacterMap['&sim']='8764';entityToCharacterMap['&cong']='8773';entityToCharacterMap['&asymp']='8776';entityToCharacterMap['&ne']='8800';entityToCharacterMap['&equiv']='8801';entityToCharacterMap['&le']='8804';entityToCharacterMap['&ge']='8805';entityToCharacterMap['&sub']='8834';entityToCharacterMap['&sup']='8835';entityToCharacterMap['&nsub']='8836';entityToCharacterMap['&sube']='8838';entityToCharacterMap['&supe']='8839';entityToCharacterMap['&oplus']='8853';entityToCharacterMap['&otimes']='8855';entityToCharacterMap['&perp']='8869';entityToCharacterMap['&sdot']='8901';entityToCharacterMap['&lceil']='8968';entityToCharacterMap['&rceil']='8969';entityToCharacterMap['&lfloor']='8970';entityToCharacterMap['&rfloor']='8971';entityToCharacterMap['&lang']='9001';entityToCharacterMap['&rang']='9002';entityToCharacterMap['&loz']='9674';entityToCharacterMap['&spades']='9824';entityToCharacterMap['&clubs']='9827';entityToCharacterMap['&hearts']='9829';entityToCharacterMap['&diams']='9830';var characterToEntityMap=[];for(var entity in entityToCharacterMap){characterToEntityMap[entityToCharacterMap[entity]]=entity}$namespace('org.owasp.esapi.codecs');org.owasp.esapi.codecs.HTMLEntityCodec=function(){var a=new org.owasp.esapi.codecs.Codec();var b=function(a){var b=a.peek();if(b==null){return null}if(b=='x'||b=='X'){a.next();return d(a)}return e(a)};var e=function(a){var c='';while(a.hasNext()){var b=a.peek();if(b.match(/[0-9]/)){c+=b;a.next()}else {if(b==';'){a.next();break}else {break}}}try{return parseInt(c)}catch(f){return null}};var d=function(a){var c='';while(a.hasNext()){var b=a.peek();if(b.match(/[0-9A-Fa-f]/)){c+=b;a.next()}else {if(b==';'){a.next();break}else {break}}}try{return parseInt(c,16)}catch(f){return null}};var c=function(a){var b='';while(a.hasNext()){var c=a.peek();if(c.match(/[A-Za-z]/)){b+=c;a.next();if(entityToCharacterMap.containsKey('&'+b)){if(a.peek(';')){a.next()}break}}else {if(c==';'){a.next()}else {break}}}return String.fromCharCode(entityToCharacterMap.getCaseInsensitive('&'+b))};return {encode:a.encode,decode:a.decode,encodeCharacter:function(e,a){if(e.contains(a)){return a}var d=org.owasp.esapi.codecs.Codec.getHexForNonAlphanumeric(a);if(d==null){return a}var b=a.charCodeAt(0);if(b<=31&&a!='\t'&&a!='\n'&&a!='\r'||b>=127&&b<=159||a==' '){return ' '}var c=characterToEntityMap[b];if(c!=null){return c+';'}return '&#x'+d+';'},decodeCharacter:function(g){var a=g;a.mark();var f=a.next();if(f==null||f!='&'){a.reset();return null}var e=a.next();if(e==null){a.reset();return null}if(e=='#'){var d=b(a);if(d!=null){return d}}else {if(e.match(/[A-Za-z]/)){a.pushback(e);d=c(a);if(d!=null){return d}}}a.reset();return null}}};$namespace('org.owasp.esapi.codecs');org.owasp.esapi.codecs.JavascriptCodec=function(){var a=new org.owasp.esapi.codecs.Codec();return {encode:function(g,f){var b='';for(var d=0;d<f.length;d++){var a=f.charAt(d);if(g.contains(a)){b+=a}else {var h=org.owasp.esapi.codecs.Codec.getHexForNonAlphanumeric(a);if(h==null){b+=a}else {var c=a.charCodeAt(0).toString(16);if(a.charCodeAt(0)<256){var e='00'.substr(c.length);b+='\\x'+e+c.toUpperCase()}else {e='0000'.substr(c.length);b+='\\u'+e+c.toUpperCase()}}}}return b},decode:a.decode,decodeCharacter:function(a){a.mark();var i=a.next();if(i==null){a.reset();return null}if(i!='\\'){a.reset();return null}var b=a.next();if(b==null){a.reset();return null}if(b=='b'){return 8}else {if(b=='t'){return 9}else {if(b=='n'){return 10}else {if(b=='v'){return 11}else {if(b=='f'){return 12}else {if(b=='r'){return 13}else {if(b=='"'){return 34}else {if(b=="'"){return 39}else {if(b=='\\'){return 92}else {if(b.toLowerCase()=='x'){c='';for(var e=0;e<2;e++){var f=a.nextHex();if(f!=null){c+=f}else {input.reset();return null}}try{d=parseInt(c,16);return String.fromCharCode(d)}catch(j){a.reset();return null}}else {if(b.toLowerCase()=='u'){c='';for(e=0;e<4;e++){f=a.nextHex();if(f!=null){c+=f}else {input.reset();return null}}try{var d=parseInt(c,16);return String.fromCharCode(d)}catch(k){a.reset();return null}}else {if(a.isOctalDigit(b)){var c=b;var h=a.next();if(!a.isOctalDigit(h)){a.pushback(h)}else {c+=h;var g=a.next();if(!a.isOctalDigit(g)){a.pushback(g)}else {c+=g}}try{d=parseInt(c,8);return String.fromCharCode(d)}catch(l){a.reset();return null}}}}}}}}}}}}}return b}}};$namespace('org.owasp.esapi.codecs');org.owasp.esapi.codecs.PercentCodec=function(){var a=new org.owasp.esapi.codecs.Codec();var d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';var c='-._~';var b=!0;var f=d+(b?'':c);var e=function(a){var b='';if(a<-128||a>127){throw new IllegalArgumentException('b is not a byte (was '+a+')')}a&=255;if(a<16){b+='0'}return b+a.toString(16).toUpperCase()};return {encode:a.encode,decode:a.decode,encodeCharacter:function(g,b){if(f.indexOf(b)>-1){return b}var c=org.owasp.esapi.codecs.UTF8.encode(b);var d='';for(var a=0;a<c.length;a++){d+='%'+e(c.charCodeAt(a))}return d},decodeCharacter:function(a){a.mark();var d=a.next();if(d==null||d!='%'){a.reset();return null}var b='';for(var c=0;c<2;c++){var e=a.nextHex();if(e!=null){b+=e}}if(b.length==2){try{var f=parseInt(b,16);return String.fromCharCode(f)}catch(g){}}a.reset();return null}}};$namespace('org.owasp.esapi.codecs');org.owasp.esapi.codecs.PushbackString=function(f){var a=f,b='',d='',c=0,e=0;return {pushback:function(a){b=a},index:function(){return c},hasNext:function(){if(b!=null){return !0}return !(a==null||a.length==0||c>=a.length)},next:function(){if(b!=null){var d=b;b=null;return d}if(a==null||a.length==0||c>=a.length){return null}return a.charAt(c++)},nextHex:function(){var a=this.next();if(this.isHexDigit(a)){return a}return null},nextOctal:function(){var a=this.next();if(this.isOctalDigit(a)){return a}return null},isHexDigit:function(a){return a!=null&&(a>='0'&&a<='9'||a>='a'&&a<='f'||a>='A'&&a<='F')},isOctalDigit:function(a){return a!=null&&(a>='0'&&a<='7')},peek:function(d){if(!d){if(b!=null){return b}if(a==null||a.length==0||c>=a.length){return null}return a.charAt(c)}else {if(b!=null&&b==d){return !0}if(a==null||a.length==0||c>=a.length){return !1}return a.charAt(c)==d}},mark:function(){d=b;e=c},reset:function(){b=d;c=e},remainder:function(){var d=a.substr(c);if(b!=null){d=b+d}return d}}};$namespace('org.owasp.esapi.codecs');org.owasp.esapi.codecs.UTF8={encode:function(e){var d=e.replace(/\r\n/g,'\n');var b='';for(var c=0;c<d.length;c++){var a=d.charCodeAt(c);if(a<128){b+=String.fromCharCode(a)}else {if(a>127&&a<2048){b+=String.fromCharCode(a>>6|192);b+=String.fromCharCode(a&63|128)}else {b+=String.fromCharCode(a>>12|224);b+=String.fromCharCode(a>>6&63|128);b+=String.fromCharCode(a&63|128)}}}return b},decode:function(d){var b='';var a=c=c1=c2=0;while(a<d.length){c=d.charCodeAt(a);if(c<128){b+=String.fromCharCode(c);a++}else {if(c>191&&c<224){c2=d.charCodeAt(a+1);b+=String.fromCharCode((c&31)<<6|c2&63);a+=2}else {c2=utftext.charCodeAt(a+1);c3=utftext.charCodeAt(a+2);string+=String.fromCharCode((c&15)<<12|(c2&63)<<6|c3&63);a+=3}}}return b}};$namespace('org.owasp.esapi.i18n');org.owasp.esapi.i18n.ArrayResourceBundle=function(f,d,b,e){with(org.owasp.esapi.i18n){var a=new ResourceBundle(f,d,e)}var c=b;return {getParent:a.getParent,getLocale:a.getLocale,getName:a.getName,getString:a.getString,getMessage:function(a){return c[a]}}};$namespace('org.owasp.esapi.i18n');org.owasp.esapi.i18n.Locale=function(f,e,d){var c=f,b=e,a=d;return {getLanguage:function(){return c},getCountry:function(){return b},getVariant:function(){return a},toString:function(){return c+(b?'-'+b+(a?'-'+a:''):'')}}};org.owasp.esapi.i18n.Locale.US=new org.owasp.esapi.i18n.Locale('en','US');org.owasp.esapi.i18n.Locale.GB=new org.owasp.esapi.i18n.Locale('en','GB');org.owasp.esapi.i18n.Locale.getLocale=function(b){var a=b.split('-');return new org.owasp.esapi.i18n.Locale(a[0],a.length>1?a[1]:'',a.length>2?a.length[2]:'')};org.owasp.esapi.i18n.Locale.getDefault=function(){var a=(navigator.language?navigator.language:navigator.userLanguage?navigator.userLanguage:'en-US').split('-');return new org.owasp.esapi.i18n.Locale(a[0],a.length>1?a[1]:'',a.length>2?a.length[2]:'')};$namespace('org.owasp.esapi.i18n');org.owasp.esapi.i18n.ObjectResourceBundle=function(b,d){var a=new org.owasp.esapi.i18n.ResourceBundle(b.name,org.owasp.esapi.i18n.Locale.getLocale(b.locale),d);var c=b.messages;return {getParent:a.getParent,getLocale:a.getLocale,getName:a.getName,getString:a.getString,getMessage:function(a){return c[a]}}};$namespace('org.owasp.esapi.i18n');org.owasp.esapi.i18n.ResourceBundle=function(f,e,d){var a=d;var b=e;var c=f;if(!c){throw new SyntaxError('Name required for implementations of org.owasp.esapi.i18n.ResourceBundle')}if(!b){throw new SyntaxError('Locale required for implementations of org.owasp.esapi.i18n.ResourceBundle')}return {getParent:function(){return a},getLocale:function(){return b},getName:function(){return c},getMessage:function(a){return a},getString:function(k,j){if(arguments.length<1){throw new IllegalArgumentException('No key passed to getString')}var b=this.getMessage(k);if(!b){if(a){return a.getString(k,j)}else {return k}}if(!b.match(/\{([A-Za-z]+)\}/)||!j){return b}var g='',h=0;while(!0){var c=b.indexOf('{',h);var i=b.indexOf('}',c);if(c<0){g+=b.substr(h,b.length-h);break}if(c>=0&&i<-1){throw new SyntaxError('Invalid Message - Unclosed Context Reference: '+b)}g+=b.substring(h,c);var l=b.substring(c+1,i);if(j[l]){g+=j[l]}else {g+=b.substring(c,i+1)}h=i+1}return g}}};org.owasp.esapi.i18n.ResourceBundle.getResourceBundle=function(b,c){var a=b+'_'+c.toString().replace('-','_');with(org.owasp.esapi.i18n){if(ResourceBundle[a] instanceof Object){return ResourceBundle[a]}else {return new ResourceBundle[a]()}}};$namespace('org.owasp.esapi.net');org.owasp.esapi.net.Cookie=function(a,n){var d;var b;var g;var f;var i;var j;var c;var h;var e=$ESAPI.resourceBundle();var l=',; ';var k=function(c){for(var b=0,e=c.length;b<e;b++){var d=c.charCodeAt(b),f=c.charAt(b);if(d<32||d>=127||l.indexOf(f)!=-1){return !1}}return !0};if(!k(a)||a.toLowerCase()=='comment'||a.toLowerCase()=='discard'||a.toLowerCase()=='domain'||a.toLowerCase()=='expires'||a.toLowerCase()=='max-age'||a.toLowerCase()=='path'||a.toLowerCase()=='secure'||a.toLowerCase()=='version'||a.charAt(0)=='$'){var m=e.getString('Cookie.Name',{name:a});throw new IllegalArgumentException(m)}d=a;b=n;return {setComment:function(b){g=b},getComment:function(){return g},setDomain:function(b){f=b.toLowerCase()},getDomain:function(){return f},setMaxAge:function(b){i=b},getMaxAge:function(){return i},setPath:function(b){j=b},getPath:function(){return j},setSecure:function(b){c=b},getSecure:function(){return c},getName:function(){return d},setValue:function(c){b=c},getValue:function(){return b},setVersion:function(b){if(b<0||b>1){throw new IllegalArgumentException(e.getString('Cookie.Version',{version:b}))}h=b},getVersion:function(){return h}}};$namespace('org.owasp.esapi.reference.encoding');org.owasp.esapi.reference.encoding.DefaultEncoder=function(c){var a=[],b=new org.owasp.esapi.codecs.HTMLEntityCodec(),d=new org.owasp.esapi.codecs.JavascriptCodec(),e=new org.owasp.esapi.codecs.CSSCodec(),f=new org.owasp.esapi.codecs.PercentCodec();if(!c){a.push(b);a.push(d);a.push(e);a.push(f)}else {a=c}var h=new Array(',','.','-','_',' ');var g=new Array(',','.','-','_');var j=new Array();var i=new Array(',','.','_');return {cananicalize:function(e,h){if(!e){return null}var b=e,i=null,f=1,d=0,g=!1;while(!g){g=!0;a.each(function(a){var j=b;b=a.decode(b);if(j!=b){if(i!=null&&i!=a){f++}i=a;if(g){d++}g=!1}})}if(d>=2&&f>1){if(h){throw new org.owasp.esapi.IntrusionException('Input validation failure','Multiple ('+d+'x) and mixed encoding ('+f+'x) detected in '+e)}}else {if(d>=2){if(h){throw new org.owasp.esapi.IntrusionException('Input validation failure','Multiple ('+d+'x) encoding detected in '+e)}}else {if(f>1){if(h){throw new org.owasp.esapi.IntrusionException('Input validation failure','Mixed ('+f+'x) encoding detected in '+e)}}}}return b},normalize:function(a){return a.replace(/[^\x00-\x7F]/g,'')},encodeForHTML:function(a){return !a?null:b.encode(h,a)},decodeForHTML:function(a){return !a?null:b.decode(a)},encodeForHTMLAttribute:function(a){return !a?null:b.encode(g,a)},encodeForCSS:function(a){return !a?null:e.encode(j,a)},encodeForJavaScript:function(a){return !a?null:d.encode(i,a)},encodeForJavascript:this.encodeForJavaScript,encodeForURL:function(a){return !a?null:escape(a)},decodeFromURL:function(a){return !a?null:unescape(a)},encodeForBase64:function(a){return !a?null:org.owasp.esapi.codecs.Base64.encode(a)},decodeFromBase64:function(a){return !a?null:org.owasp.esapi.codecs.Base64.decode(a)}}};$namespace('org.owasp.esapi.reference.logging');org.owasp.esapi.reference.logging.Log4JSLogFactory=function(){var a=Array();var c=function(g){var a=null;var h=g?g:null;var b=Log4js.Level;var c=!1,d=!1,e=!1,f=$ESAPI.encoder().encodeForHTML;a=Log4js.getLogger(h);var i=function(b){var a=org.owasp.esapi.Logger;switch(b){case a.OFF:return Log4js.Level.OFF;case a.FATAL:return Log4js.Level.FATAL;case a.ERROR:return Log4js.Level.ERROR;case a.WARNING:return Log4js.Level.WARN;case a.INFO:return Log4js.Level.INFO;case a.DEBUG:return Log4js.Level.DEBUG;case a.TRACE:return Log4js.Level.TRACE;case a.ALL:return Log4js.Level.ALL;}};return {setLevel:function(b){try{a.setLevel(i(b))}catch(j){this.error(org.owasp.esapi.Logger.SECURITY_FAILURE,'',j)}},trace:function(c,a,d){this.log(b.TRACE,c,a,d)},debug:function(c,a,d){this.log(b.DEBUG,c,a,d)},info:function(c,a,d){this.log(b.INFO,c,a,d)},warning:function(c,a,d){this.log(b.WARN,c,a,d)},error:function(c,a,d){this.log(b.ERROR,c,a,d)},fatal:function(c,a,d){this.log(b.FATAL,c,a,d)},log:function(k,l,h,m){switch(k){case b.TRACE:if(!a.isTraceEnabled()){return};break;case b.DEBUG:if(!a.isDebugEnabled()){return};break;case b.INFO:if(!a.isInfoEnabled()){return};break;case b.WARNING:if(!a.isWarnEnabled()){return};break;case b.ERROR:if(!a.isErrorEnabled()){return};break;case b.FATAL:if(!a.isFatalEnabled()){return};break;}if(!h){h=''}h='['+l.toString()+'] - '+h;var i=h.replace('\n','_').replace('\r','_');if(e){i=f(i);if(i!=h){i+=' [Encoded]'}}var j=(c?window.location.href:'')+(d?'/'+$ESAPI.properties.application.Name:'');a.log(k,(j!=''?'['+j+'] ':'')+i,m)},addAppender:function(b){a.addAppender(b)},isLogUrl:function(){return c},setLogUrl:function(a){c=a},isLogApplicationName:function(){return d},setLogApplicationName:function(a){d=a},isEncodingRequired:function(){return e},setEncodingRequired:function(a){e=a},setEncodingFunction:function(a){f=a},isDebugEnabled:function(){return a.isDebugEnabled()},isErrorEnabled:function(){return a.isErrorEnabled()},isFatalEnabled:function(){return a.isFatalEnabled()},isInfoEnabled:function(){return a.isInfoEnabled()},isTraceEnabled:function(){return a.isTraceEnabled()},isWarningEnabled:function(){return a.isWarnEnabled()}}};var b=function(b){var a=$ESAPI.properties.logging;if(a[b]){a=a[b]}return a};return {getLogger:function(f){var g=typeof f=='string'?f:f.constructor.toString();var d=a[g];if(!d){d=new c(g);var e=b(f);d.setLevel(e.Level);d.setLogUrl(e.LogUrl);d.setLogApplicationName(e.LogApplicationName);d.setEncodingRequired(e.EncodingRequired);if(e.EncodingFunction){d.setEncodingFunction(e.EncodingFunction)}e.Appenders.each(function(a){if(e.Layout){a.setLayout(e.Layout)}d.addAppender(a)});a[g]=d}return d}}};$namespace('org.owasp.esapi.reference.validation');org.owasp.esapi.reference.validation.BaseValidationRule=function(j,e,b){var d=$ESAPI.logger('Validation');var c=org.owasp.esapi.Logger.EventType;var f=j;var g=e?e:$ESAPI.encoder();var h=!1;var i=org.owasp.esapi.i18n.ResourceBundle;var k=b?b:$ESAPI.locale();var a;if($ESAPI.properties.validation.ResourceBundle){a=i.getResourceBundle($ESAPI.properties.validation.ResourceBundle,k)}if(!a){a=$ESAPI.resourceBundle();d.info(c.EVENT_FAILURE,'No Validation ResourceBundle - Defaulting to '+a.getName()+'('+a.getLocale().toString()+')')}d.info(c.EVENT_SUCCESS,'Validation Rule Initialized with ResourceBundle: '+a.getName());return {setAllowNull:function(a){h=a},isAllowNull:function(){return h},getTypeName:function(){return f},setTypeName:function(a){f=a},setEncoder:function(a){g=a},getEncoder:function(){return g},assertValid:function(a,c){this.getValid(a,c)},getValid:function(a,c,f){var d=null;try{d=this.getValidInput(a,c)}catch(l){return this.sanitize(a,c)}return d},getValidInput:function(c,a){return a},getSafe:function(a,c){var d=null;try{d=this.getValidInput(a,c)}catch(l){return this.sanitize(a,c)}return d},sanitize:function(c,a){return a},isValid:function(c,d){var a=!1;try{this.getValidInput(c,d);a=!0}catch(l){return !1}return a},whitelist:function(c,g){var d='';for(var a=0;a<c.length;a++){var f=c.charAt(a);if(g.contains(f)){d+=f}}return d},getUserMessage:function(d,a,c){return this.getMessage(d+'.Usr',a+'.Usr',c)},getLogMessage:function(d,a,c){return this.getMessage(d+'.Log',a+'.Log',c)},getMessage:function(d,f,c){return a.getString(d,c)?a.getString(d,c):a.getString(f,c)},validationException:function(c,d,a,f){throw new org.owasp.esapi.reference.validation.ValidationException(this.getUserMessage(c+'.'+a,d+'.'+a,f),this.getLogMessage(c+'.'+a,d+'.'+a,f),c)}}};$namespace('org.owasp.esapi.reference.validation');org.owasp.esapi.reference.validation.CreditCardValidationRule=function(e,g,c){var a=new org.owasp.esapi.reference.validation.BaseValidationRule(e,g,c);var d='CreditCard';var b=19;var h;var f=function(){var f=new RegExp($ESAPI.properties.validation.CreditCard);var d=new org.owasp.esapi.reference.validation.StringValidationRule('ccrule',a.getEncoder(),c,f);d.setMaxLength(b);d.setAllowNull(!1);return d};ccRule=f();var i=function(k){var i='';var f;for(var d=0;o<k.length;d++){f=k.charAt(d);if(f.match(/[0-9]/)){i+=f}}var l=0,h=0,a=0,j=!1;for(var b=i.length-1;b>=0;b--){h=parseInt(i.substring(b,d+1));if(j){a=h*2;if(a>9){a-=9}}else {a=h}l+=a;j=!j}return l%10==0};return {getMaxCardLength:function(){return b},setMaxCardLength:function(a){b=a},setAllowNull:a.setAllowNull,isAllowNull:a.isAllowNull,getTypeName:a.getTypeName,setTypeName:a.setTypeName,setEncoder:a.setEncoder,getEncoder:a.getEncoder,assertValid:a.assertValid,getValid:a.getValid,getValidInput:function(b,f){if(!f||f.trim()==''){if(this.isAllowNull()){return null}a.validationException(b,d,'Required',{context:b,input:f})}var j=h.getValid(b,f);if(!i(j)){a.validationException(b,d,'Invalid',{context:b,input:f})}return j},getSafe:a.getSafe,sanitize:function(b,a){return this.whitelist(a,org.owasp.esapi.EncoderConstants.CHAR_DIGITS)},isValid:a.isValid,whitelist:a.whitelist}};$namespace('org.owasp.esapi.reference.validation');org.owasp.esapi.reference.validation.DateValidationRule=function(e,g,f){var a=new org.owasp.esapi.reference.validation.BaseValidationRule(e,g,f);var d='Date';var b=DateFormat.getDateInstance();var c=function(c,h){if(!c||c.trim()==''){if(a.isAllowNull()){return null}a.validationException(c,d,'Required',{context:c,input:h,format:b})}var i=a.getEncoder().cananicalize(h);try{return b.parse(i)}catch(j){a.validationException(c,d,'Invalid',{context:c,input:h,format:b})}};return {setDateFormat:function(a){if(!a){throw new IllegalArgumentException('DateValidationRule.setDateFormat requires a non-null DateFormat')}b=a},setAllowNull:a.setAllowNull,isAllowNull:a.isAllowNull,getTypeName:a.getTypeName,setTypeName:a.setTypeName,setEncoder:a.setEncoder,getEncoder:a.getEncoder,assertValid:a.assertValid,getValid:a.getValid,getValidInput:function(a,b){return c(a,b)},getSafe:a.getSafe,sanitize:function(b,d){var a=new Date(0);try{a=c(b,d)}catch(h){}return a},isValid:a.isValid,whitelist:a.whitelist}};$namespace('org.owasp.esapi.reference.validation');org.owasp.esapi.reference.validation.DefaultValidator=function(e,d){var f=Array();var c=e?e:$ESAPI.encoder();var b=d?d:org.owasp.esapi.i18n.Locale.getDefault();var a=org.owasp.esapi.reference.validation;return {addRule:function(a){f[a.getName()]=a},getRule:function(a){return f[a]},isValidInput:function(a,f,g,c,b){try{this.getValidInput(a,f,g,c,b);return !0}catch(h){return !1}},getValidInput:function(h,l,g,k,j,i){var f=new org.owasp.esapi.reference.validation.StringValidationRule(g,c,b);var a=new RegExp($ESAPI.properties.validation[g]);if(a&&a instanceof RegExp){f.addWhitelistPattern(a)}else {throw new IllegalArgumentException('Invalid Type: '+g+' not found.')}f.setMaxLength(k);f.setAllowNull(j);try{return f.getValid(h,l)}catch(m){if(m instanceof a.ValidationErrorList&&i){i.addError(h,m)}throw m}},isValidDate:function(b,f,a,c){try{this.getValidDate(b,f,a,c);return !0}catch(g){return !1}},getValidDate:function(f,k,i,j,h){var g=new a.DateValidationRule(f,c,b);g.setAllowNull(j);g.setDateFormat(i);try{return g.getValid(f,k)}catch(l){if(l instanceof a.ValidationErrorList&&h){h.addError(f,l)}throw l}},getValidCreditCard:function(f,j,i,h){var g=new a.CreditCardValidationRule(f,c,b);g.setAllowNull(i);try{return g.getValid(f,j)}catch(k){if(k instanceof a.ValidationErrorList&&h){h.addError(f,k)}throw k}},isValidCreditCard:function(a,c,b){try{this.getValidCreditCard(a,c,b);return !0}catch(g){return !1}},getValidNumber:function(f,j,i,k,l,h){var g=new a.NumberValidationRule(f,c,b,k,l);g.setAllowNull(i);try{return g.getValid(f,j)}catch(m){if(m instanceof a.ValidationErrorList&&h){h.addError(f,m)}throw m}},isValidNumber:function(a,c,b,f,g){try{this.getValidNumber(a,c,b,f,g);return !0}catch(h){return !1}},getValidInteger:function(f,j,i,k,l,h){var g=new a.IntegerValidationRule(f,c,b,k,l);g.setAllowNull(i);try{return g.getValid(f,j)}catch(m){if(m instanceof a.ValidationErrorList&&h){h.addError(f,m)}throw m}},isValidInteger:function(a,c,b,f,g){try{this.getValidInteger(a,c,b,f,g);return !0}catch(h){return !1}}}};$namespace('org.owasp.esapi.reference.validation');org.owasp.esapi.reference.validation.IntegerValidationRule=function(i,j,h,g,f){var a=new org.owasp.esapi.reference.validation.BaseValidationRule(i,j,h);var d='Integer';var c=g?g:Number.MIN_VALUE;var b=f?f:Number.MAX_VALUE;if(c>=b){throw new IllegalArgumentException('minValue must be less than maxValue')}var e=function(e,k){if(!k||k.trim()==''){if(a.allowNull()){return null}a.validationException(e,d,'Required',{context:e,input:k,minValue:c,maxValue:b})}var m=a.getEncoder().cananicalize(k);var l=parseInt(m);if(l=='NaN'){a.validationException(e,d,'NaN',{context:e,input:k,minValue:c,maxValue:b})}if(l<c){a.validationException(e,d,'MinValue',{context:e,input:k,minValue:c,maxValue:b})}if(l>b){a.validationException(e,d,'MaxValue',{context:e,input:k,minValue:c,maxValue:b})}return l};return {setMinValue:function(a){c=a},getMinValue:function(){return c},setMaxValue:function(a){b=a},getMaxValue:function(){return b},setAllowNull:a.setAllowNull,isAllowNull:a.isAllowNull,getTypeName:a.getTypeName,setTypeName:a.setTypeName,setEncoder:a.setEncoder,getEncoder:a.getEncoder,assertValid:a.assertValid,getValid:a.getValid,getValidInput:function(a,b){return e(a,b)},getSafe:a.getSafe,sanitize:function(b,c){var a=0;try{a=e(b,c)}catch(k){}return a},isValid:a.isValid,whitelist:a.whitelist}};$namespace('org.owasp.esapi.reference.validation');org.owasp.esapi.reference.validation.NumberValidationRule=function(i,j,h,f,e){var a=new org.owasp.esapi.reference.validation.BaseValidationRule(i,j,h);var d='Number';var c=f?f:Number.MIN_VALUE;var b=e?e:Number.MAX_VALUE;if(c>=b){throw new IllegalArgumentException('MinValue must be less that MaxValue')}var g=function(g,k){if(!k||k.trim()==''){if(a.isAllowNull()){return null}a.validationException(g,d,'Required',{context:g,input:k,minValue:c,maxValue:b})}var m=a.getEncoder().cananicalize(k);var l=0;try{l=parseFloat(m)}catch(n){a.validationException(g,d,'Invalid',{context:g,input:k,minValue:c,maxValue:b})}if(l=='NaN'){a.validationException(g,d,'NaN',{context:g,input:k,minValue:c,maxValue:b})}if(l<c){a.validationException(g,d,'MinValue',{context:g,input:k,minValue:c,maxValue:b})}if(l>b){a.validationException(g,d,'MaxValue',{context:g,input:k,minValue:c,maxValue:b})}return l};return {setMinValue:function(a){c=a},getMinValue:function(){return c},setMaxValue:function(a){b=a},getMaxValue:function(){return b},setAllowNull:a.setAllowNull,isAllowNull:a.isAllowNull,getTypeName:a.getTypeName,setTypeName:a.setTypeName,setEncoder:a.setEncoder,getEncoder:a.getEncoder,assertValid:a.assertValid,getValid:a.getValid,getValidInput:function(a,b){return g(a,b)},getSafe:a.getSafe,sanitize:function(b,c){var a=0;try{a=g(b,c)}catch(k){}return a},isValid:a.isValid,whitelist:a.whitelist}};$namespace('org.owasp.esapi.reference.validation');org.owasp.esapi.reference.validation.StringValidationRule=function(n,o,m,g){var a=new org.owasp.esapi.reference.validation.BaseValidationRule(n,o,m);var e='String';var f=Array();var h=Array();var c=0;var b=Number.MAX_VALUE;var d=!0;if(g){if(g instanceof String){f.push(new RegExp(g))}else {if(g instanceof RegExp){f.push(g)}else {throw new IllegalArgumentException('sWhiteListPattern must be a string containing RegExp or a RegExp Object')}}}var l=function(h,i,j){f.each(function(f){if(i.match(f)){a.validationException(h,e,'Whitelist',{context:h,input:i,orig:j,pattern:f.toString(),minLength:c,maxLength:b,validateInputAndCanonical:d})}})};var k=function(f,i,j){h.each(function(h){if(i.match(h)){a.validationException(f,e,'Blacklist',{context:f,input:i,orig:j,pattern:h.toString(),minLength:c,maxLength:b,validateInputAndCanonical:d})}})};var i=function(h,f,i){if(f.length<c){a.validationException(h,e,'MinLength',{context:h,input:f,orig:i,minLength:c,maxLength:b,validateInputAndCanonical:d})}if(f.length>b){a.validationException(h,e,'MaxLength',{context:h,input:f,orig:i,minLength:c,maxLength:b,validateInputAndCanonical:d})}return f};var j=function(h,f,i){if(!f||f.trim()==''){if(a.isAllowNull()){return null}a.validationException(h,e,'Required',{context:h,input:f,orig:i,minLength:c,maxLength:b,validateInputAndCanonical:d})}};return {addWhitelistPattern:function(a){if(a instanceof String){f.push(new RegExp(a))}else {if(a instanceof RegExp){f.push(a)}else {throw new IllegalArgumentException('p must be a string containing RegExp or a RegExp Object')}}},addBlacklistPattern:function(a){if(a instanceof String){h.push(new RegExp(a))}else {if(a instanceof RegExp){h.push(a)}else {throw new IllegalArgumentException('p must be a string containing RegExp or a RegExp Object')}}},setMinLength:function(a){c=a},getMinLength:function(){return c},setMaxLength:function(a){b=a},getMaxLength:function(){return b},setValidateInputAndCanonical:function(a){d=a},isValidateInputAndCanonical:function(){return d},setAllowNull:a.setAllowNull,isAllowNull:a.isAllowNull,getTypeName:a.getTypeName,setTypeName:a.setTypeName,setEncoder:a.setEncoder,getEncoder:a.getEncoder,assertValid:a.assertValid,getValid:a.getValid,getValidInput:function(b,a){var c=null;if(j(b,a)==null){return null}if(d){i(b,a);l(b,a);k(b,a)}c=this.getEncoder().cananicalize(a);if(j(b,c,a)==null){return null}i(b,c,a);l(b,c,a);k(b,c,a);return c},getSafe:a.getSafe,sanitize:function(b,a){return this.whitelist(a,org.owasp.esapi.EncoderConstants.CHAR_ALNUM)},isValid:a.isValid,whitelist:a.whitelist}};$namespace('org.owasp.esapi.reference.validation');org.owasp.esapi.reference.validation.ValidationException=function(e,d){var c,b;if(arguments[2]&&arguments[2] instanceof Exception){c=arguments[2];if(arguments[3]&&arguments[3] instanceof String){b=arguments[3]}}else {if(arguments[2]&&arguments[2] instanceof String){b=arguments[2]}}var a=new org.owasp.esapi.EnterpriseSecurityException(e,d,c);return {setContext:function(a){b=a},getContext:function(){return b},getMessage:a.getMessage,getUserMessage:a.getMessage,getLogMessage:a.getLogMessage,getStackTrace:a.getStackTrace,printStackTrace:a.printStackTrace}};